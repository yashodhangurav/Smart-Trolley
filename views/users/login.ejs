<% layout("/layouts/boilerplate.ejs") %>

<div class="login-wrapper">
  
  <div class="tech-circles">
    <li></li><li></li><li></li><li></li><li></li>
    <li></li><li></li><li></li><li></li><li></li>
  </div>

  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6 col-lg-5">
        <div class="login-card">
          
          <div class="text-center mb-5">
            <div class="logo-box mb-3">
              <i class="fas fa-shopping-cart text-white fs-3"></i>
            </div>
            <h3 class="fw-bold text-dark">Welcome Back</h3>
            <p class="text-muted">Login to access your Smart Trolley dashboard.</p>
          </div>

          <form action="/login" method="POST" class="needs-validation" novalidate>
            
            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="username" name="username" placeholder="Username" required>
              <label for="username">Username</label>
            </div>

            <div class="form-floating mb-4">
              <input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
              <label for="password">Password</label>
            </div>

            <div class="d-flex justify-content-between align-items-center mb-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="rememberMe">
                <label class="form-check-label text-muted small" for="rememberMe">Remember me</label>
              </div>
              <a href="#" class="text-primary fw-semibold small text-decoration-none">Forgot password?</a>
            </div>

            <button type="submit" class="btn btn-primary w-100 py-3 rounded-pill fw-bold btn-glow mb-4">
              Login securely
              <i class="fas fa-arrow-right ms-2"></i>
            </button>

            <div class="text-center border-top pt-4">
              <p class="text-muted small mb-0">
                Don't have an account? 
                <a href="/signup" class="text-primary fw-bold text-decoration-none ms-1">Sign up</a>
              </p>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* 1. Global Setup & Colors */
  :root {
    --primary-color: #4361ee;
    --secondary-color: #3f37c9;
    --accent-color: #4cc9f0;
  }

  /* Fix for Fixed Navbar */
  body {
    background-color: #f8f9fa;
  }

  .login-wrapper {
    position: relative;
    min-height: calc(100vh - 85px);
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #f6f8fd 0%, #eef2ff 100%);
    overflow: hidden;
    padding: 2rem 0;
  }

  /* 2. Tech Background Animation */
  .tech-circles {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    overflow: hidden;
    z-index: 0;
  }

  .tech-circles li {
    position: absolute;
    display: block;
    list-style: none;
    width: 20px; height: 20px;
    background: rgba(67, 97, 238, 0.15);
    animation: floatUp 25s linear infinite;
    bottom: -150px;
    border-radius: 50%;
  }

  /* Animation delays for randomness */
  .tech-circles li:nth-child(1){ left: 25%; width: 80px; height: 80px; animation-delay: 0s; }
  .tech-circles li:nth-child(2){ left: 10%; width: 20px; height: 20px; animation-delay: 2s; background: rgba(76, 201, 240, 0.2); }
  .tech-circles li:nth-child(3){ left: 70%; width: 20px; height: 20px; animation-delay: 4s; }
  .tech-circles li:nth-child(4){ left: 40%; width: 60px; height: 60px; animation-delay: 0s; animation-duration: 18s; }
  
  @keyframes floatUp {
    0%{ transform: translateY(0) rotate(0deg); opacity: 1; border-radius: 0; }
    100%{ transform: translateY(-1000px) rotate(720deg); opacity: 0; border-radius: 50%; }
  }

  /* 3. Glassmorphism Card */
  .login-card {
    position: relative;
    z-index: 10;
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.8);
    border-radius: 24px;
    padding: 3rem;
    box-shadow: 0 20px 40px rgba(67, 97, 238, 0.08);
  }

  /* 4. Icon & Form Elements */
  .logo-box {
    width: 70px; height: 70px;
    background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
    border-radius: 20px;
    display: flex; align-items: center; justify-content: center;
    margin: 0 auto;
    box-shadow: 0 10px 20px rgba(67, 97, 238, 0.3);
    transform: rotate(-5deg); /* Slight playful tilt */
  }

  .form-floating > .form-control {
    border: 1px solid #e2e8f0;
    background-color: rgba(255, 255, 255, 0.6);
    border-radius: 12px;
  }

  .form-control:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 4px rgba(67, 97, 238, 0.1);
    background-color: #fff;
  }

  /* 5. Button */
  .btn-primary {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    border: none;
    transition: all 0.3s ease;
  }

  .btn-glow:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(67, 97, 238, 0.3);
  }

  /* Responsive */
  @media (max-width: 576px) {
    .login-card { padding: 2rem; }
  }
</style>